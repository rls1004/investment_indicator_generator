{"version":3,"sources":["routes/Home.js","components/Card.js","routes/Gen.js","routes/Detail.js","components/Navigation.js","App.js","index.js"],"names":["Home","className","href","target","React","Component","Card","name","link","exch","ticker","to","pathname","state","Gen","doSearch","setTicker","e","a","setState","value","getTickers","axios","get","datas","$","cheerio","load","data","us_result","search_result","search_ticker","children","attribs","this","placeholder","onChange","onKeyPress","charCode","Detail","isDone","investment","getDataFromFinancePart","searchClass","result","cur","next","i","tmp","push","getFullKeyRatio","id","split","getFinancePartURL","getKeyPartURL","financePart","componentData","inv","oi","om","eps","fcfps","shares","dividends","years","keyPart","roe","guruURL","datas2","per","peRatioURL","childNodes","datas3","location","props","map","val","Navigation","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd656be5.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Home.css'\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"container\">\r\n                <h1>투자 지표 생성기 입니다</h1><br/>\r\n                <p>\r\n                    <a href=\"https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf\" target=\"_blank\">크롬 확장 도구</a> 등을 이용해서 CORS를 허용한 후에 사용 가능합니다.\r\n                </p>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport './Card.css'\r\n\r\nfunction Card({ name, link, exch, ticker }) {\r\n    return (\r\n        <div>\r\n            <div className=\"result\">\r\n                <h3>{name}</h3>\r\n                <p>{exch} | {ticker}</p>\r\n            </div>\r\n            <div className=\"confirm\">\r\n                <span className=\"right\">right?</span>\r\n                <Link\r\n                    to={{\r\n                        pathname: '/detail',\r\n                        state: {name, link, exch, ticker},\r\n                    }}\r\n                >\r\n                    <button className=\"next\">\r\n                        <span>Next</span>\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nCard.propTypes = {\r\n    link: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Card;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nimport Card from '../components/Card';\r\nimport './Gen.css';\r\n\r\nconst useInput = (placeValue) => {\r\n    const [value, setValue] = useState();\r\n    const onChange = event => {\r\n        const {\r\n            target: {value}\r\n        } = event;\r\n        setValue(value);\r\n    }\r\n    return { props: {value, onChange}, utils: {setValue} };\r\n}\r\n\r\nclass Gen extends React.Component {\r\n    state = {\r\n        doSearch: 0,\r\n        ticker: {},\r\n    };\r\n    setTicker = async (e) => {\r\n        await this.setState({ticker: e.target.value});\r\n    }\r\n    getTickers = async () => {\r\n        const datas = await axios.get(\"https://www.morningstar.com/search?query=\"+this.state.ticker);\r\n        let $ = cheerio.load(datas.data);\r\n        let us_result = $(\".mdc-security-module\");\r\n        let search_result = us_result.get(0);\r\n        let search_ticker = {};\r\n        search_ticker['name'] = search_result.children[0].children[0].data;\r\n        search_ticker['link'] = \"https://www.morningstar.com\";\r\n        search_ticker['link'] += search_result.children[0].attribs.href;\r\n        search_ticker['exch'] = search_result.children[2].children[0].children[0].data;\r\n        search_ticker['ticker'] = search_result.children[2].children[2].children[0].data;\r\n        this.setState({ticker: search_ticker, doSearch: 1});\r\n    }\r\n    render() {\r\n        const {doSearch, ticker} = this.state;\r\n        const submit = (e) => {\r\n            if (e.charCode == 13) this.getTickers();\r\n        }\r\n        return (\r\n            <section>\r\n                <h1>Gen</h1>\r\n                <div className=\"searchBar\">\r\n                <span className=\"icon\"><i className=\"fa fa-search\"></i></span>\r\n                <input placeholder=\"Ticker...\" onChange={this.setTicker} onKeyPress={submit}></input>\r\n                </div>\r\n                {doSearch == 1? (\r\n                        <div>\r\n                            <Card\r\n                                name={ticker.name}\r\n                                link={ticker.link}\r\n                                exch={ticker.exch}\r\n                                ticker={ticker.ticker}\r\n                            />\r\n                        </div>\r\n                    ) : (\r\n                        <div></div>\r\n                    )\r\n                }\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Gen;","import React from 'react';\r\nimport axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nimport './Detail.css'\r\n\r\n\r\nclass Detail extends React.Component {\r\n    state = {\r\n        isDone: false,\r\n        investment: {}\r\n    }\r\n\r\n    getDataFromFinancePart = ($, searchClass) => {\r\n        let result = [];\r\n        let cur = $(searchClass).get(0).next.next.next.next.next.next;\r\n        for(let i=0; i<6; i++) {\r\n            let tmp = cur.children[0].data;\r\n            cur = cur.next;\r\n            result.push(tmp);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getFullKeyRatio = async (link, ticker) => {\r\n        if(this.state.isDone == true) return;\r\n        const datas = await axios.get(link);\r\n        const id = datas.data.split('byId:{\"')[1].split('\"')[0];\r\n        const getFinancePartURL = \"https://financials.morningstar.com/finan/financials/getFinancePart.html?t=\"+id;\r\n        const getKeyPartURL = \"https://financials.morningstar.com/finan/financials/getKeyStatPart.html?t=\"+id;\r\n\r\n        const financePart = (await axios.get(getFinancePartURL)).data.componentData;\r\n        let $ = cheerio.load(financePart);\r\n\r\n        let inv = {};\r\n\r\n        let oi = this.getDataFromFinancePart($, \"#i2\");\r\n        let om = this.getDataFromFinancePart($, \"#i3\");\r\n        let eps = this.getDataFromFinancePart($, \"#i5\");\r\n        let fcfps = this.getDataFromFinancePart($, \"#i90\");\r\n        let shares = this.getDataFromFinancePart($, \"#i7\");\r\n        let dividends = this.getDataFromFinancePart($, \"#i6\");\r\n\r\n        let years = [];\r\n        let cur = $(\"tr\").get(0).children[5];\r\n        for(let i=0; i<6; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            years.push(tmp);\r\n        }\r\n\r\n        const keyPart = await (await axios.get(getKeyPartURL)).data.componentData;\r\n        $ = cheerio.load(keyPart);\r\n        let roe = [];\r\n        cur = $(\"#i26\").get(0);\r\n        for(let i=0; i<6; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            roe.push(tmp);\r\n        }\r\n\r\n        const guruURL = \"https://www.gurufocus.com/stock/\"+ticker+\"/summary\";\r\n        const datas2 = (await axios.get(guruURL)).data;\r\n        $ = cheerio.load(datas2);\r\n        let per = [];\r\n        try {\r\n            let peRatioURL = \"https://www.gurufocus.com\";\r\n            peRatioURL += $(\".stock-indicator-table\")[2].childNodes[2].children[0].children[0].children[0].attribs.href;\r\n\r\n            const datas3 = (await axios.get(peRatioURL)).data;\r\n            $ = cheerio.load(datas3);\r\n            cur = $(\".R10\").get(0).children[3].children[2].children[11];\r\n            for(let i=0; i<5; i++) {\r\n                let tmp = cur.next.next.children[0].data;\r\n                cur = cur.next.next;\r\n                per.push(tmp);\r\n            }\r\n            per.push('—');\r\n        } catch (e) {\r\n            per = ['—','—','—','—','—','—'];\r\n        }\r\n\r\n        inv['oi'] = oi;\r\n        inv['om'] = om;\r\n        inv['eps'] = eps;\r\n        inv['fcfps'] = fcfps;\r\n        inv['years'] = years;\r\n        inv['shares'] = shares;\r\n        inv['roe'] = roe;\r\n        inv['dividends'] = dividends;\r\n        inv['per'] = per;\r\n\r\n        this.setState({investment: inv, isDone: true})\r\n    }\r\n    render() {\r\n        const { location } = this.props;\r\n        const {isDone, investment} = this.state;\r\n        if (location.state) {\r\n            this.getFullKeyRatio(location.state.link, location.state.ticker);\r\n            return (\r\n                <div>\r\n                    <div>\r\n                        <h3>{location.state.name}</h3>\r\n                        <p>{location.state.exch} | {location.state.ticker}</p>\r\n                    </div>\r\n                    {isDone? (\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    {investment.years.map((val) => (\r\n                                        (<th key={val}>{val}</th>)\r\n                                    ))}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th>영업 이익</th>\r\n                                    {investment.oi.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>영업 이익률</th>\r\n                                    {investment.om.map((val, i) => (\r\n                                        (<td key={i}>{val}%</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>EPS</th>\r\n                                    {investment.eps.map((val,  i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Free Cash Flow Per Share</th>\r\n                                    {investment.fcfps.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>주식 수</th>\r\n                                    {investment.shares.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>ROE</th>\r\n                                    {investment.roe.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>배당금</th>\r\n                                    {investment.dividends.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>PER</th>\r\n                                    {investment.per.map((val, i) => (\r\n                                        (<td key={i}>{val}</td>)\r\n                                    ))}\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    ):(\r\n                        <div>Loading...</div>\r\n                    )}\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Detail;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Navigation.css';\r\n\r\nfunction Navigation() {\r\n    return (\r\n        <div className=\"nav\">\r\n            <Link to=\"/\" className='menu'>Home</Link>\r\n            <Link to=\"/gen\" className='menu'>Gen</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from './routes/Home';\nimport Gen from './routes/Gen';\nimport Detail from './routes/Detail';\nimport Navigation from './components/Navigation';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Navigation />\n      <Route path=\"/\" exact={true} component={Home} />\n      <Route path=\"/gen\" component={Gen} />\n      <Route path=\"/detail\" component={Detail} />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}