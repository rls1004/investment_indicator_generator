{"version":3,"sources":["routes/Home.js","components/Card.js","routes/Gen.js","routes/Detail.js","components/Navigation.js","App.js","index.js"],"names":["Home","className","React","Component","Card","name","link","exch","ticker","to","pathname","state","Gen","doSearch","setTicker","e","a","setState","target","value","getTickers","axios","get","datas","$","cheerio","load","data","us_result","search_result","search_ticker","children","attribs","href","this","placeholder","onChange","onKeyPress","charCode","alert","Detail","isDone","investment","getFullKeyRatio","id","split","getFinancePartURL","getKeyPartURL","financePart","componentData","inv","oi","cur","i","tmp","next","push","om","eps","fcfps","shares","dividends","years","keyPart","roe","guruURL","datas2","peRatioURL","childNodes","datas3","per","location","props","map","val","Navigation","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a3b318d.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Home.css'\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"container\">\r\n                <h1>투자 지표 생성기 입니다</h1>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport './Card.css'\r\n\r\nfunction Card({ name, link, exch, ticker }) {\r\n    return (\r\n        <div>\r\n            <div className=\"result\">\r\n                <h3>{name}</h3>\r\n                <p>{exch} | {ticker}</p>\r\n            </div>\r\n            <div className=\"confirm\">\r\n                <span className=\"right\">right?</span>\r\n                <Link\r\n                    to={{\r\n                        pathname: '/detail',\r\n                        state: {name, link, exch, ticker},\r\n                    }}\r\n                >\r\n                    <button className=\"next\">\r\n                        <span>Next</span>\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nCard.propTypes = {\r\n    link: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Card;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nimport Card from '../components/Card';\r\nimport './Gen.css';\r\n\r\nconst useInput = (placeValue) => {\r\n    const [value, setValue] = useState();\r\n    const onChange = event => {\r\n        const {\r\n            target: {value}\r\n        } = event;\r\n        setValue(value);\r\n    }\r\n    return { props: {value, onChange}, utils: {setValue} };\r\n}\r\n\r\nclass Gen extends React.Component {\r\n    state = {\r\n        doSearch: 0,\r\n        ticker: {},\r\n    };\r\n    setTicker = async (e) => {\r\n        await this.setState({ticker: e.target.value});\r\n    }\r\n    getTickers = async () => {\r\n        const datas = await axios.get(\"https://www.morningstar.com/search?query=\"+this.state.ticker);\r\n        let $ = cheerio.load(datas.data);\r\n        let us_result = $(\".mdc-security-module\");\r\n        let search_result = us_result.get(0);\r\n        let search_ticker = {};\r\n        search_ticker['name'] = search_result.children[0].children[0].data;\r\n        search_ticker['link'] = \"https://www.morningstar.com\";\r\n        search_ticker['link'] += search_result.children[0].attribs.href;\r\n        search_ticker['exch'] = search_result.children[2].children[0].children[0].data;\r\n        search_ticker['ticker'] = search_result.children[2].children[2].children[0].data;\r\n        this.setState({ticker: search_ticker, doSearch: 1});\r\n    }\r\n    render() {\r\n        const {doSearch, ticker} = this.state;\r\n        const submit = (e) => {\r\n            if (e.charCode == 13) this.getTickers();\r\n            alert(e.charCode);\r\n        }\r\n        return (\r\n            <section>\r\n                <h1>Gen</h1>\r\n                <div className=\"searchBar\">\r\n                <span className=\"icon\"><i className=\"fa fa-search\"></i></span>\r\n                <input placeholder=\"Ticker...\" onChange={this.setTicker} onKeyPress={submit}></input>\r\n                </div>\r\n                {doSearch == 1? (\r\n                        <div>\r\n                            <Card\r\n                                name={ticker.name}\r\n                                link={ticker.link}\r\n                                exch={ticker.exch}\r\n                                ticker={ticker.ticker}\r\n                            />\r\n                        </div>\r\n                    ) : (\r\n                        <div></div>\r\n                    )\r\n                }\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Gen;","import React from 'react';\r\nimport axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nimport './Detail.css'\r\n\r\n\r\nclass Detail extends React.Component {\r\n    state = {\r\n        isDone: false,\r\n        investment: {}\r\n    }\r\n    getFullKeyRatio = async (link, ticker) => {\r\n        if(this.state.isDone == true) return;\r\n        const datas = await axios.get(link);\r\n        const id = datas.data.split('byId:{\"')[1].split('\"')[0];\r\n        const getFinancePartURL = \"https://financials.morningstar.com/finan/financials/getFinancePart.html?t=\"+id;\r\n        const getKeyPartURL = \"https://financials.morningstar.com/finan/financials/getKeyStatPart.html?t=\"+id;\r\n\r\n        const financePart = (await axios.get(getFinancePartURL)).data.componentData;\r\n        let $ = cheerio.load(financePart);\r\n\r\n        let inv = {};\r\n\r\n        let oi = [];\r\n        let cur = $(\"#i2\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) oi.push(tmp);\r\n        }\r\n\r\n        let om = [];\r\n        cur = $(\"#i3\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) om.push(tmp);\r\n        }\r\n        let eps = [];\r\n        cur = $(\"#i5\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) eps.push(tmp);\r\n        }\r\n\r\n        let fcfps = [];\r\n        cur = $(\"#i90\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) fcfps.push(tmp);\r\n        }\r\n\r\n        let shares = [];\r\n        cur = $(\"#i7\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) shares.push(tmp);\r\n        }\r\n\r\n        let dividends = [];\r\n        cur = $(\"#i6\").get(0);\r\n        for(let i=0; i<11; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            if (i>4) dividends.push(tmp);\r\n        }\r\n\r\n        let years = [];\r\n        cur = $(\"tr\").get(0).children[5];\r\n        for(let i=0; i<6; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            years.push(tmp);\r\n        }\r\n\r\n        const keyPart = await (await axios.get(getKeyPartURL)).data.componentData;\r\n        $ = cheerio.load(keyPart);\r\n        let roe = [];\r\n        cur = $(\"#i26\").get(0);\r\n        for(let i=0; i<6; i++) {\r\n            let tmp = cur.next.children[0].data;\r\n            cur = cur.next;\r\n            roe.push(tmp);\r\n        }\r\n\r\n        const guruURL = \"https://www.gurufocus.com/stock/\"+ticker+\"/summary\";\r\n        const datas2 = (await axios.get(guruURL)).data;\r\n        $ = cheerio.load(datas2);\r\n        let peRatioURL = \"https://www.gurufocus.com\";\r\n        peRatioURL += $(\".stock-indicator-table\")[2].childNodes[2].children[0].children[0].children[0].attribs.href;\r\n\r\n        const datas3 = (await axios.get(peRatioURL)).data;\r\n        $ = cheerio.load(datas3);\r\n        let per = [];\r\n        cur = $(\".R10\").get(0).children[3].children[2].children[11];\r\n        for(let i=0; i<5; i++) {\r\n            let tmp = cur.next.next.children[0].data;\r\n            cur = cur.next.next;\r\n            per.push(tmp);\r\n        }\r\n\r\n        inv['oi'] = oi;\r\n        inv['om'] = om;\r\n        inv['eps'] = eps;\r\n        inv['fcfps'] = fcfps;\r\n        inv['years'] = years;\r\n        inv['shares'] = shares;\r\n        inv['roe'] = roe;\r\n        inv['dividends'] = dividends;\r\n        inv['per'] = per;\r\n\r\n        this.setState({investment: inv, isDone: true})\r\n    }\r\n    render() {\r\n        const { location } = this.props;\r\n        const {isDone, investment} = this.state;\r\n        if (location.state) {\r\n            this.getFullKeyRatio(location.state.link, location.state.ticker);\r\n            return (\r\n                <div>\r\n                    <div>\r\n                        <h3>{location.state.name}</h3>\r\n                        <p>{location.state.exch} | {location.state.ticker}</p>\r\n                    </div>\r\n                    {isDone? (\r\n                        <table>\r\n                            <thead>\r\n                            <tr>\r\n                                <th></th>\r\n                                {investment.years.map((val) => (\r\n                                    (<th>{val}</th>)\r\n                                ))}\r\n                            </tr>\r\n                            </thead>\r\n                            <tr>\r\n                                <th>영업 이익</th>\r\n                                {investment.oi.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>영업 이익률</th>\r\n                                {investment.om.map((val) => (\r\n                                    (<td>{val}%</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>EPS</th>\r\n                                {investment.eps.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Free Cash Flow Per Share</th>\r\n                                {investment.fcfps.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>주식 수</th>\r\n                                {investment.shares.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>ROE</th>\r\n                                {investment.roe.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>배당금</th>\r\n                                {investment.dividends.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                            <tr>\r\n                                <th>PER</th>\r\n                                {investment.per.map((val) => (\r\n                                    (<td>{val}</td>)\r\n                                ))}\r\n                            </tr>\r\n                        </table>\r\n                    ):(\r\n                        <div>Loading...</div>\r\n                    )}\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Detail;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Navigation.css';\r\n\r\nfunction Navigation() {\r\n    return (\r\n        <div className=\"nav\">\r\n            <Link to=\"/\" className='menu'>Home</Link>\r\n            <Link to=\"/gen\" className='menu'>Gen</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from './routes/Home';\nimport Gen from './routes/Gen';\nimport Detail from './routes/Detail';\nimport Navigation from './components/Navigation';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Navigation />\n      <Route path=\"/\" exact={true} component={Home} />\n      <Route path=\"/gen\" component={Gen} />\n      <Route path=\"/detail\" component={Detail} />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}